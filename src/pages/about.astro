---
import Layout from '@layouts/Layout.astro'
import { getEntry } from 'astro:content'
import { getLocale } from 'astro-i18n-aut'
import AboutShowcase from '@components/aboutShowcase.astro'

export function getStaticPaths() {
  return [{ params: { lang: 'en' } }, { params: { lang: 'sk' } }]
}

const locale = getLocale(Astro.url)
const about = await getEntry('about', locale + '/about')
const aboutDescription =
  locale === 'en'
    ? 'Learn about Švehla a Blaško, a Slovak family-owned machining company with history since 1990 and expertise in CNC and conventional machining.'
    : 'Spoznajte Švehla a Blaško, slovenskú rodinnú firmu s históriou od roku 1990 a skúsenosťami v CNC aj konvenčnom obrábaní.'

export const prerender = true
---

<Layout title={about.data.layouttitle} description={aboutDescription}>
  <AboutShowcase about={about} locale={locale} />
</Layout>
